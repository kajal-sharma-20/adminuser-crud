{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/Documents/mongodb/my-app/src/app/signup/userlogin/%5Bid%5D/page.js"],"sourcesContent":["\"use client\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\n\r\nexport default function ProfilePage() {\r\n  const { id } = useParams();  \r\n  const router = useRouter();\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    console.log(\"User ID from URL:\", id); \r\n\r\n    async function fetchUser() {\r\n      if (!id) {\r\n        setError(\"No user ID provided\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/api/getone/${id}`);\r\n        console.log(\"API Response:\", response.data); \r\n\r\n        if (response.data) {\r\n          console.log(\"User found:\", response.data);\r\n          setUser(response.data);\r\n        } else {\r\n          console.log(\"User not found in API response\");\r\n          setError(\"User not found\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user:\", error);\r\n        setError(\"Failed to fetch user details\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    fetchUser();\r\n  }, [id]);\r\n\r\n  if (loading) return <p className=\"text-center mt-10\">Loading...</p>;\r\n  if (error) return <p className=\"text-center text-red-500 mt-10\">{error}</p>;\r\n  \r\n  async function handlelogout() {\r\n    try {\r\n      await axios.get(\"http://localhost:5000/api/userlogout\", {\r\n        withCredentials: true\r\n      });\r\n    \r\n      window.location.href = \"/signup/loginasuser\";\r\n    } catch (error) {\r\n      console.log(\"Logout error:\", error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center mt-10 \">\r\n      <h2 className=\"text-2xl font-bold\">User Profile</h2>\r\n      <div className=\"bg-white p-6 rounded-lg shadow-lg w-auto mt-5\">\r\n        <p className=\"mb-2\"><strong>First Name:</strong> {user.fname}</p>\r\n        <p className=\"mb-2\"><strong>Last Name:</strong> {user.lname}</p>\r\n        <p className=\"mb-2\"><strong>Email:</strong> {user.email}</p>\r\n        <p className=\"mb-2\"><strong>Password:</strong> {user.password}</p>\r\n\r\n        {/* Buttons */}\r\n        <div className=\"flex space-x-96 mt-4\">\r\n          <button\r\n            onClick={() => router.push(`/signup/userlogin/updateuser/${id}`)}\r\n            className=\"bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600\"\r\n          >\r\n            Update Profile\r\n          </button>\r\n          <button\r\n            onClick={handlelogout}\r\n            className=\"bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600\"\r\n          >\r\n            Log Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,QAAQ,GAAG,CAAC,qBAAqB;QAEjC,eAAe;YACb,IAAI,CAAC,IAAI;gBACP,SAAS;gBACT,WAAW;gBACX;YACF;YAEA,IAAI;gBACF,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,iCAAiC,EAAE,IAAI;gBACzE,QAAQ,GAAG,CAAC,iBAAiB,SAAS,IAAI;gBAE1C,IAAI,SAAS,IAAI,EAAE;oBACjB,QAAQ,GAAG,CAAC,eAAe,SAAS,IAAI;oBACxC,QAAQ,SAAS,IAAI;gBACvB,OAAO;oBACL,QAAQ,GAAG,CAAC;oBACZ,SAAS;gBACX;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wBAAwB;gBACtC,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAG;IAEP,IAAI,SAAS,qBAAO,8OAAC;QAAE,WAAU;kBAAoB;;;;;;IACrD,IAAI,OAAO,qBAAO,8OAAC;QAAE,WAAU;kBAAkC;;;;;;IAEjE,eAAe;QACb,IAAI;YACF,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,wCAAwC;gBACtD,iBAAiB;YACnB;YAEA,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC,iBAAiB;QAC/B;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;;0CAAO,8OAAC;0CAAO;;;;;;4BAAoB;4BAAE,KAAK,KAAK;;;;;;;kCAC5D,8OAAC;wBAAE,WAAU;;0CAAO,8OAAC;0CAAO;;;;;;4BAAmB;4BAAE,KAAK,KAAK;;;;;;;kCAC3D,8OAAC;wBAAE,WAAU;;0CAAO,8OAAC;0CAAO;;;;;;4BAAe;4BAAE,KAAK,KAAK;;;;;;;kCACvD,8OAAC;wBAAE,WAAU;;0CAAO,8OAAC;0CAAO;;;;;;4BAAkB;4BAAE,KAAK,QAAQ;;;;;;;kCAG7D,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,6BAA6B,EAAE,IAAI;gCAC/D,WAAU;0CACX;;;;;;0CAGD,8OAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}}]
}