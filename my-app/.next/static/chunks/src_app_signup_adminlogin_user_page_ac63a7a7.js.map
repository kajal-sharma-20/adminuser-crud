{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/Documents/mongodb/my-app/src/app/signup/adminlogin/user/page.js"],"sourcesContent":["\"use client\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { FaRegEdit, FaUserPlus, FaSignOutAlt } from \"react-icons/fa\";\r\nimport { MdDeleteOutline } from \"react-icons/md\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport default function Users() {\r\n  const [users, setUsers] = useState([]);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const fetchdata = async () => {\r\n      try {\r\n        const response = await axios.get(`${process.env.NEXT_PUBLIC_API_URL}/getall`);\r\n        setUsers(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n        toast.error(\"Failed to fetch users\");\r\n      }\r\n    };\r\n    fetchdata();\r\n  }, []);\r\n\r\n  const deleteUser = async (userId) => {\r\n    try {\r\n      await axios.delete(`${process.env.NEXT_PUBLIC_API_URL}/delete/${userId}`);\r\n      setUsers((prevUsers) => prevUsers.filter((user) => user._id !== userId));\r\n      toast.success(\" User deleted successfully\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(\"Failed to delete user\");\r\n    }\r\n  };\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await axios.get(`${process.env.NEXT_PUBLIC_API_URL}/adminlogout`, {\r\n        withCredentials: true,\r\n      });\r\n      toast.info(\"Logged out successfully\");\r\n      window.location.href = \"/signup/loginasadmin\";\r\n    } catch (error) {\r\n      console.log(\"Logout error:\", error);\r\n      toast.error(\"Logout failed\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900 flex justify-center items-center p-6\">\r\n      <div className=\"w-full max-w-5xl bg-gradient-to-br from-slate-800 to-slate-900 p-8 rounded-xl shadow-2xl border border-gray-700\">\r\n        <h1 className=\"text-3xl font-bold text-center text-gray-100 mb-6 tracking-wide\">\r\n          Admin Dashboard - <span className=\"text-blue-400\">Users List</span>\r\n        </h1>\r\n\r\n        {/* Top Buttons */}\r\n        <div className=\"flex justify-between mb-6\">\r\n          <button\r\n            className=\"flex items-center gap-2 bg-gradient-to-r from-gray-700 via-gray-800 to-gray-900 hover:from-gray-800 hover:to-gray-950 text-white px-6 py-3 rounded-lg shadow-lg transition transform hover:scale-105\"\r\n            onClick={handleLogout}\r\n          >\r\n            <FaSignOutAlt /> Log Out\r\n          </button>\r\n          <button\r\n            className=\"flex items-center gap-2 bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-lg shadow-lg transition transform hover:scale-105\"\r\n            onClick={() => router.push(\"/signup/adminlogin/adduser\")}\r\n          >\r\n            <FaUserPlus /> Add User\r\n          </button>\r\n        </div>\r\n\r\n        {/* Users Table */}\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full border-collapse border border-gray-700 text-gray-200\">\r\n            <thead>\r\n              <tr className=\"bg-gradient-to-r from-gray-700 via-gray-800 to-gray-900 text-gray-300\">\r\n                <th className=\"border border-gray-600 p-3\">S.No.</th>\r\n                <th className=\"border border-gray-600 p-3\">Name</th>\r\n                <th className=\"border border-gray-600 p-3\">Email</th>\r\n                <th className=\"border border-gray-600 p-3\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users.map((user, index) => (\r\n                <tr\r\n                  key={user._id}\r\n                  className=\"hover:bg-gray-700 transition duration-300\"\r\n                >\r\n                  <td className=\"border border-gray-700 p-3 text-center\">{index + 1}</td>\r\n                  <td className=\"border border-gray-700 p-3\">{`${user.fname} ${user.lname}`}</td>\r\n                  <td className=\"border border-gray-700 p-3\">{user.email}</td>\r\n                  <td className=\"border border-gray-700 p-3 flex gap-3 justify-center\">\r\n                    <button\r\n                      className=\"flex items-center justify-center bg-green-500 hover:bg-green-600 text-white p-2 rounded-lg shadow-md transition transform hover:scale-105\"\r\n                      onClick={() => router.push(`/signup/adminlogin/update/${user._id}`)}\r\n                    >\r\n                      <FaRegEdit />\r\n                    </button>\r\n                    <button\r\n                      className=\"flex items-center justify-center bg-red-500 hover:bg-red-600 text-white p-2 rounded-lg shadow-md transition transform hover:scale-105\"\r\n                      onClick={() => deleteUser(user._id)}\r\n                    >\r\n                      <MdDeleteOutline />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;AAe4C;;AAd5C;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;2BAAE;YACR,MAAM;6CAAY;oBAChB,IAAI;wBACF,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,iEAAmC,OAAO,CAAC;wBAC5E,SAAS,SAAS,IAAI;oBACxB,EAAE,OAAO,OAAO;wBACd,QAAQ,GAAG,CAAC;wBACZ,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;oBACd;gBACF;;YACA;QACF;0BAAG,EAAE;IAEL,MAAM,aAAa,OAAO;QACxB,IAAI;YACF,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC,iEAAmC,QAAQ,EAAE,QAAQ;YACxE,SAAS,CAAC,YAAc,UAAU,MAAM,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK;YAChE,sJAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC;YACZ,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,eAAe;QACb,IAAI;YACF,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,iEAAmC,YAAY,CAAC,EAAE;gBAChE,iBAAiB;YACnB;YACA,sJAAA,CAAA,QAAK,CAAC,IAAI,CAAC;YACX,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC,iBAAiB;YAC7B,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;;wBAAkE;sCAC5D,6LAAC;4BAAK,WAAU;sCAAgB;;;;;;;;;;;;8BAIpD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,WAAU;4BACV,SAAS;;8CAET,6LAAC,iJAAA,CAAA,eAAY;;;;;gCAAG;;;;;;;sCAElB,6LAAC;4BACC,WAAU;4BACV,SAAS,IAAM,OAAO,IAAI,CAAC;;8CAE3B,6LAAC,iJAAA,CAAA,aAAU;;;;;gCAAG;;;;;;;;;;;;;8BAKlB,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAM,WAAU;;0CACf,6LAAC;0CACC,cAAA,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;4CAAG,WAAU;sDAA6B;;;;;;sDAC3C,6LAAC;4CAAG,WAAU;sDAA6B;;;;;;sDAC3C,6LAAC;4CAAG,WAAU;sDAA6B;;;;;;sDAC3C,6LAAC;4CAAG,WAAU;sDAA6B;;;;;;;;;;;;;;;;;0CAG/C,6LAAC;0CACE,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,6LAAC;wCAEC,WAAU;;0DAEV,6LAAC;gDAAG,WAAU;0DAA0C,QAAQ;;;;;;0DAChE,6LAAC;gDAAG,WAAU;0DAA8B,GAAG,KAAK,KAAK,CAAC,CAAC,EAAE,KAAK,KAAK,EAAE;;;;;;0DACzE,6LAAC;gDAAG,WAAU;0DAA8B,KAAK,KAAK;;;;;;0DACtD,6LAAC;gDAAG,WAAU;;kEACZ,6LAAC;wDACC,WAAU;wDACV,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,0BAA0B,EAAE,KAAK,GAAG,EAAE;kEAElE,cAAA,6LAAC,iJAAA,CAAA,YAAS;;;;;;;;;;kEAEZ,6LAAC;wDACC,WAAU;wDACV,SAAS,IAAM,WAAW,KAAK,GAAG;kEAElC,cAAA,6LAAC,iJAAA,CAAA,kBAAe;;;;;;;;;;;;;;;;;uCAjBf,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4B/B;GA1GwB;;QAEP,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}}]
}